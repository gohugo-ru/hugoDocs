---
title : "Пакеты страниц"
description : "Организация содержимого с использованием пакетов страниц"
date : 2018-01-24T13:09:00-05:00
linktitle : "Пакеты страниц"
keywords : ["page", "bundle", "leaf", "branch"]
categories : ["content management"]
toc : true
menu :
  docs:
    identifier : "page-bundles"
    parent : "content-management"
    weight : 11
---

Пакеты страниц - это способ группировки [ресурсов страницы](/content-management/page-resources/).

Пакет страниц может быть одним из:

- Leaf Bundle (лист означает, что у него нет детей)
- Branch Bundle (домашняя страница, раздел, термины таксономии, список таксономии)

|    | Leaf Bundle | Branch Bundle |
| -- | ----------- | ------------- |
| Применение | Сборник контента и вложений для отдельных страниц | Сборник вложений для страниц раздела (домашняя страница, раздел, термины таксономии, список таксономии) |
| Имя индексного файла | `index.md` [^fn:1] | `_index.md` [^fn:1] |
| Разрешенные ресурсы | Страничные и нестраничные (например, изображения, pdf и т.д.) типы | Только нестраничные (например, изображения, pdf и т.д.) типы |
| Где могут жить Ресурсы? | На любом уровне каталога в каталоге конечного пакета. | Только на уровне каталога **для** каталога пакета ветки, т.е. каталога, содержащего `_index.md` ([ref](https://discourse.gohugo.io/t/question-about-content-folder-structure/11822/4?u=kaushalmodi)). |
| Тип макета | `single` | `list` |
| Вложенность | Не допускает вложения под ним большего количества связок | Позволяет класть под себя пакеты leaf или branch |
| Пример | `content/posts/my-post/index.md` | `content/posts/_index.md` |
| Контент из файлов неиндексных страниц ... | Доступно только как ресурсы страницы | Доступно только как обычные страницы |

## Leaf Bundles {#leaf-bundles}

_Leaf Bundle_ - это каталог любой иерархии в каталоге `content/`, содержащий файл **`index.md`**.

### Примеры организации Leaf Bundle {#examples-of-leaf-bundle-organization}

```text
content/
├── about
│   ├── index.md
├── posts
│   ├── my-post
│   │   ├── content1.md
│   │   ├── content2.md
│   │   ├── image1.jpg
│   │   ├── image2.png
│   │   └── index.md
│   └── my-other-post
│       └── index.md
│
└── another-section
    ├── ..
    └── not-a-leaf-bundle
        ├── ..
        └── another-leaf-bundle
            └── index.md
```

В приведенном выше примере каталога `content/` есть четыре leaf bundles:

about
: Этот листовой пакет находится на корневом уровне (непосредственно в каталоге `content`) и имеет только `index.md`.

my-post
: Этот листовой пакет содержит `index.md`, два других файла разметки содержимого и два файла изображений.

image1
: Это изображение является ресурсом страницы `my-post` и доступно только в ресурсах `my-post/index.md`.

image2
: Это изображение является ресурсом страницы `my-post` и доступно только в ресурсах `my-post/index.md`.

my-other-post
: Этот листовой пакет содержит только файл `index.md`.

another-leaf-bundle
: Этот листовой пакет вложен в несколько каталогов. В этом комплекте также есть только `index.md`.

{{% note %}}
Глубина иерархии, на которой создается листовой пакет, не имеет значения, если он не находится внутри другого **листового** пакета.
{{% /note %}}

### Headless Bundle {#headless-bundle}

Безголовый пакет - это пакет, который настроен так, чтобы нигде не публиковаться:

- В нем не будет `Permalink` и обработанного HTML в `public/`.
- Он не будет частью `.Site.RegularPages` и т.д.

Но Вы можете получить его с помощью `.Site.GetPage`. Вот пример:

```go-html-template
{{ $headless := .Site.GetPage "/some-headless-bundle" }}
{{ $reusablePages := $headless.Resources.Match "author*" }}
<h2>Authors</h2>
{{ range $reusablePages }}
    <h3>{{ .Title }}</h3>
    {{ .Content }}
{{ end }}
```

_В этом примере мы предполагаем, что `some-headless-bundle` представляет собой комплект без заголовка, содержащий один или несколько ресурсов **страницы**, чей `.Name` совпадает с `"author*"`._

Пояснение к приведенному выше примеру:

1. Получите "объект" страницы `some-headless-bundle`.
2. Соберите *кусок* ресурсов в этом *Пакете страницы*, который соответствует `"author*"`, используя `.Resources.Match`.
3. Прокрутите этот *кусок* вложенных страниц и выведите их `.Title` и `.Content`.

---

Связку листьев можно сделать безголовой, добавив ниже во Front Matter (в `index.md`):

```toml
headless = true
```

Есть много вариантов использования таких пакетов страниц без заголовка:

- Общие медиа-галереи
- Многоразовые "снипеты" содержания страницы

## Branch Bundles {#branch-bundles}

_Branch Bundle_ - это любой каталог в любой иерархии внутри каталога `content/`, который содержит как минимум файл **`_index.md`**.

Этот `_index.md` также может находиться непосредственно в каталоге `content/`.

{{% note %}}
Здесь `md` (разметка) используется просто в качестве примера. Вы можете использовать любой тип файла в качестве ресурса контента, если это тип контента, распознаваемый Hugo.
{{% /note %}}

### Примеры организации Branch Bundle {#examples-of-branch-bundle-organization}

```text
content/
├── branch-bundle-1
│   ├── branch-content1.md
│   ├── branch-content2.md
│   ├── image1.jpg
│   ├── image2.png
│   └── _index.md
└── branch-bundle-2
    ├── _index.md
    └── a-leaf-bundle
        └── index.md
```

В приведенном выше примере каталога `content/` есть два пакета ветвей (и пакет листьев):

`branch-bundle-1`
: В этом пакете веток есть `_index.md`, два других файла разметки с контентом и два файла изображений.

`branch-bundle-2`
: В этом пакете веток есть `_index.md` и вложенный листовой комплект.

{{% note %}}
Глубина иерархии, на которой создается пакет ветвей, не имеет значения.
{{% /note %}}

[^fn:1]: Расширение `.md` - это просто пример. Расширением может быть `.html`, `.json` или любой допустимый тип MIME.
