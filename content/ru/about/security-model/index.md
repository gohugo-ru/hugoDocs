---
title: Модель безопасности Hugo
description: Краткое изложение модели безопасности Hugo.
date: 2019-10-01
layout: single
keywords: ["Security", "Privacy", "Безопасность", "Конфиденциальность"]
menu:
  docs:
    parent: "about"
    weight: 4
weight: 5
sections_weight: 5
draft: false
aliases: [/security/]
toc: true
---

## Безопасность во время выполнения

Hugo производит статический вывод, поэтому после сборки среда выполнения - это браузер (при условии, что вывод - HTML) и любой сервер (API), с которым Вы интегрируетесь.

Но при разработке и создании Вашего сайта среда выполнения - это исполняемый файл `hugo`. Обеспечение безопасности среды выполнения может быть [реальной проблемой](https://blog.logrocket.com/how-to-protect-your-node-js-applications-from-malicious-dependencies-5f2e60ea08f9/).

**Главным подходом Hugo является песочница:**

* Hugo имеет виртуальную файловую систему, и только основной проект (не сторонние компоненты) может монтировать каталоги или файлы вне корня проекта.
* Только основной проект может переходить по символьным ссылкам.
* Пользовательские компоненты имеют доступ только для чтения к файловой системе.
* Мы выделяем некоторые внешние двоичные файлы для поддержки [Asciidoctor](/content-management/formats/#list-of-content-formats) и подобных, но эти двоичные файлы и их флаги предопределены. Общие функции для запуска произвольных внешних команд ОС [обсуждались](https://github.com/gohugoio/hugo/issues/796), но не реализованы из соображений безопасности.

Hugo скоро представит концепцию _Content Source Plugins_ (AKA _Pages from Data_), но вышеизложенное все равно останется верным.

## Безопасность зависимостей

Hugo строит как статический двоичный файл, используя [Модули Go](https://github.com/golang/go/wiki/Modules) для управления своими зависимостями. Модули Go имеют несколько защит, одна из которых - файл `go.sum`. Это база данных ожидаемых криптографических контрольных сумм всех Ваших зависимостей, включая любые транзитивные.

[Модули Hugo](/hugo-modules/) построены на основе функциональности модулей Go, а проект Hugo, использующий модули Hugo, будет иметь файл `go.sum`. Мы рекомендуем Вам зафиксировать этот файл в своей системе контроля версий. Сборка Hugo завершится ошибкой при несоответствии контрольной суммы, что может указывать на [подделку зависимости](https://julienrenaux.fr/2019/12/20/github-actions-security-risk/).

## Безопасность веб-приложений

Это угрозы безопасности согласно определению [OWASP](https://en.wikipedia.org/wiki/OWASP).

Для вывода HTML это основная модель безопасности:

https://golang.org/pkg/html/template/#hdr-Security_Model

Короче говоря:

Авторам шаблонов (Вам) доверяют, а отправленным Вами данным - нет.
Вот почему Вам иногда нужно использовать _safe_ функции, такие как `safeHTML`, чтобы избежать экранирования данных, которые, как Вы знаете, безопасны.
Как указано в документации, есть одно исключение из вышеизложенного: если Вы включаете встроенные шорткоды, Вы также говорите, что шорткоды и обработка данных в файлах содержимого являются доверенными, поскольку эти макросы обрабатываются как чистый текст.
Возможно, стоит добавить, что Hugo - это генератор статических сайтов без концепции динамического ввода данных пользователем.

Для контента по умолчанию средство рендеринга Markdown [настроено](/getting-started/configuration-markup) для удаления или исключения потенциально небезопасного контента. Это поведение можно изменить, если Вы доверяете своему контенту.
